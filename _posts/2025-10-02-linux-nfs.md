---
layout: post
title: linux mint nfs挂载 
date: 2025-10-02 15:37:00 +0800
categories: [tips]
tags: [system]
---
1.  **创建本地挂载点**
    这个目录是你在本地电脑上用来访问 NAS 文件的“入口”。

    ```bash
    sudo mkdir -p /mnt/mynas
    ```

2.  **执行挂载命令**
    在终端中运行下面的命令。`sudo` 是必需的，因为它通常需要管理员权限来挂载文件系统。

    ```bash
    sudo mount 10.10.10.2:/fs/1000/nfs /mnt/mynas
    ```

      * `10.10.10.2:/fs/1000/nfs`: 这部分指定了服务器的地址和共享路径。
      * `/mnt/mynas`: 这是你本地的挂载点。

如果挂载成功，你就可以通过 `/mnt/mynas` 这个目录来访问 NAS 上的文件了。

如果挂载失败，最常见的原因是：

  * **防火墙**: NAS 或你的电脑的防火墙阻止了 NFS 端口（2049）。
  * **权限问题**: NAS 的 NFS 设置没有允许你电脑的 IP 地址访问该共享。

如果遇到问题，请检查 NAS 上的 NFS 设置，确保你的 Linux Mint 电脑的 IP 地址被列入了访问白名单。



### fstab 配置文件

`fstab` (File System Table) 是 Linux 用来管理在系统启动时自动挂载的文件系统的一个配置文件。它的位置是 `/etc/fstab`。

你需要用管理员权限来编辑这个文件。打开终端，输入：

```bash
sudo nano /etc/fstab
```

或者，如果你喜欢用图形界面的文本编辑器，可以输入：

```bash
sudo gedit /etc/fstab
```

-----

### 如何添加 NFS 挂载项

在 `fstab` 文件的末尾，添加一行来描述你的 NFS 共享。根据你之前成功挂载的命令，格式应该如下：

```
10.10.10.2:/fs/1000/nfs  /home/syaofox/dnas  nfs  defaults  0  0
```

让我们来分解一下这一行：

1.  **`10.10.10.2:/fs/1000/nfs`**：这是你的 **NFS 服务器地址**和**共享路径**。
2.  **`/home/syaofox/dnas`**：这是你本地的**挂载点**。
3.  **`nfs`**：这是**文件系统类型**，表明这是一个 NFS 共享。
4.  **`defaults`**：这是一个常用的**挂载选项**，它包含了许多默认设置，例如读写权限 (`rw`)、自动挂载 (`auto`) 等。对于大多数情况，这个选项就足够了。
5.  **`0`**：这是\*\*`dump`\*\*选项，通常用于备份。设置为 `0` 表示不备份。
6.  **`0`**：这是\*\*`fsck`\*\*（文件系统检查）选项。设置为 `0` 表示在启动时不检查这个文件系统。

添加完这行后，保存文件并退出编辑器。

-----

### 验证和测试

为了确保 `fstab` 配置正确，并且下次重启时能正常工作，你可以先卸载 NFS 共享，然后用 `fstab` 进行测试。

1.  **卸载 NFS 共享**：

    ```bash
    sudo umount /home/syaofox/dnas
    ```

2.  **重新挂载所有 `fstab` 条目**：

    ```bash
    sudo systemctl daemon-reload
    sudo mount -a
    ```

    这个命令会检查 `fstab` 文件中所有没有被挂载的条目，并尝试进行挂载。如果一切正常，它不会输出任何信息。

现在，你可以检查 `/home/syaofox/dnas` 目录，看看 NAS 上的文件是否已经可见。如果可以，那就说明你的 `fstab` 配置是正确的，下次系统启动时会自动挂载。