---
title: "安装 Nerd 字体"
created_at: "2025-10-21 07:43:18"
updated_at: "2025-10-21 07:43:26"
issue_number: 44
labels: ['tips']
url: https://github.com/syaofox/syaofox.github.io/issues/44
---

# 安装 Nerd 字体

在 Linux Mint 上为 dwm 安装 **Nerd 字体**通常是一个相对简单的过程，主要涉及下载字体文件并将它们放置到正确的系统目录中。

以下是详细的步骤：

-----

## 1\. 下载 Nerd 字体

首先，你需要从 Nerd 字体项目的 GitHub 仓库下载你想要的字体。Nerd 字体是主流编程字体的修补（Patched）版本，包含了大量的图标（如 Font Awesome、Devicons 等）。

1.  **访问 GitHub 仓库：** 访问 [[Nerd 字体 GitHub 页面](https://www.google.com/search?q=https://www.github.com/ryanoasis/nerd-fonts)](https://www.google.com/search?q=https://www.github.com/ryanoasis/nerd-fonts)。
2.  **选择并下载字体：**
      * **推荐方式（下载单个字体）：** 浏览仓库，选择你喜欢的字体（例如：`FiraCode`、`Hack`、`JetBrainsMono` 等），然后点击进入该字体的文件夹。你会看到一个 `download` 链接或下载按钮，或者你可以在终端中使用 `wget` 直接下载。
      * **如果你想使用 `git`（更灵活）：**
        ```bash
        # 克隆整个仓库 (文件较大，可能需要一些时间)
        git clone https://github.com/ryanoasis/nerd-fonts.git
        cd nerd-fonts
        # (然后进入你想要的字体文件夹，例如 'Hack')
        ```
      * **如果你只想下载预构建的包（推荐）：** 在 GitHub 仓库的 **Releases** 页面，你可以找到打包好的 `.zip` 文件，下载后解压。

-----

## 2\. 安装字体

字体文件通常以 `.ttf` (TrueType Font) 或 `.otf` (OpenType Font) 格式提供。

### 方式一：用户级安装（推荐）

这是最安全和最推荐的方式，字体只为你当前用户安装。

1.  **创建字体目录：** 如果你的家目录中还没有 `.fonts` 文件夹，就创建它。
    ```bash
    mkdir -p ~/.local/share/fonts
    ```
2.  **复制字体文件：** 将你下载或解压得到的 `.ttf` / `.otf` 文件复制到这个目录中。
    ```bash
    # 假设你的字体文件在 ~/Downloads/ 文件夹中
    cp ~/Downloads/HackNerdFont-Regular.ttf ~/.local/share/fonts/
    # 如果你下载的是一个包含多个文件的文件夹
    # cp -r /path/to/downloaded/fonts/*.ttf ~/.local/share/fonts/
    ```
3.  **更新字体缓存：** 运行以下命令更新系统字体缓存。
    ```bash
    fc-cache -fv
    ```

### 方式二：系统级安装（需要管理员权限）

如果你希望所有用户都能使用这些字体，可以将它们安装到系统范围的字体目录。

1.  **复制字体文件：**
    ```bash
    # 你可能需要使用 sudo
    sudo cp /path/to/downloaded/fonts/*.ttf /usr/local/share/fonts/
    ```
2.  **更新字体缓存：**
    ```bash
    sudo fc-cache -fv
    ```

-----

## 3\. 在 dwm 配置中使用字体

dwm 本身并不直接处理字体渲染，它依赖于 **Xft** 或 **Pango**（通过 `xft` 或 `pango` 库）以及 **X 服务器**来显示文本。你需要在 dwm 的配置文件中指定你安装的 Nerd 字体。

1.  **编辑配置文件：** 打开你的 dwm 配置文件 `config.h`。

    ```bash
    # 假设你的 dwm 源代码目录是 ~/dwm
    cd ~/dwm
    vim config.h  # 或使用你喜欢的编辑器
    ```

2.  **修改字体设置：** 找到类似 `static const char *fonts[]` 的行。你需要将你安装的 Nerd 字体名称添加到数组的开头或作为一个单独的条目。

    **关键：** 字体名称必须与系统识别的名称完全匹配。你可以使用 `fc-list` 命令来查找确切的名称。

    ```bash
    # 示例：查找 Hack Nerd Font 的确切名称
    fc-list | grep "Hack Nerd"
    ```

    找到名称后，修改 `config.h`，例如：

    ```c
    static const char *fonts[] = {
        // 确保使用你安装的Nerd字体名称
        "Hack Nerd Font Mono:size=10", 
        // fallback 字体 (可选)
        "monospace:size=10"
    };
    ```

    > **注意：** 使用 `:size=X` 来设置字体大小。

3.  **重新编译和安装 dwm：**

    ```bash
    sudo make clean install
    ```

4.  **重新启动 dwm：** 退出当前的 dwm 会话（通常是 `Mod+Shift+Q`），或者重启 X 会话/电脑，使新的 dwm 配置生效。

完成这些步骤后，dwm 应该就能正确显示 Nerd 字体中包含的图标和特殊字符了。

